{"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC5C,IAAIC,EAAcF,SAASG,iBAAiB,yBAExCC,EAAuB,SAAUC,GAEjC,OAAKA,EAAMC,MAAMC,QAAO,MAAQ,G,EAGhCC,EAAe,SAAUC,GAC3B,IAAIJ,EAAQI,EAAEC,OACZC,EAAoBP,EAAqBC,GACvCO,EAASH,EAAEI,eAAiBC,OAAOD,cACvC,GAAID,EAAQ,CACV,IAAIG,EAAaH,EAAOI,QAAQ,QAChC,GAAI,MAAMC,KAAKF,GAIb,YADAV,EAAMC,MAAQK,E,GAMhBO,EAAe,SAAUT,GAC3B,IAAIJ,EAAQI,EAAEC,OACZC,EAAoBP,EAAqBC,GACzCc,EAAiBd,EAAMc,eACvBC,EAAsB,GAExB,IAAKT,EACH,OAAQN,EAAMC,MAAQ,GAGxB,GAAID,EAAMC,MAAMe,QAAUF,EAA1B,CASA,GAAI,CAAC,IAAK,KAAKG,SAASX,EAAkB,KAAM,EAAI,CAEtB,KAAxBA,EAAkB,KACpBA,EAAoB,IAAMA,GAC5B,IAAIY,EAAuC,KAAxBZ,EAAkB,GAAY,IAAM,MACvDS,EAAsBf,EAAMC,MAAQiB,EAAe,IAC/CZ,EAAkBU,OAAS,IAC7BD,GAAuB,IAAMT,EAAkBa,UAAU,EAAG,IAE1Db,EAAkBU,QAAU,IAC9BD,GAAuB,KAAOT,EAAkBa,UAAU,EAAG,IAE3Db,EAAkBU,QAAU,IAC9BD,GAAuB,IAAMT,EAAkBa,UAAU,EAAG,KAE1Db,EAAkBU,QAAU,KAC9BD,GAAuB,IAAMT,EAAkBa,UAAU,GAAI,I,MAI/DJ,EAAsB,IAAMT,EAAkBa,UAAU,EAAG,IAE7DnB,EAAMC,MAAQc,C,MA7BRX,EAAEgB,MAAQ,MAAMR,KAAKR,EAAEgB,QAEzBpB,EAAMC,MAAQK,E,EA6BhBe,EAAiB,SAAUjB,GAC7BkB,QAAQC,IAAInB,EAAEoB,QAASpB,EAAEC,OAAOJ,OAEhC,IAAIwB,EAAarB,EAAEC,OAAOJ,MAAMC,QAAO,MAAQ,IAC9B,GAAbE,EAAEoB,SAAqC,GAArBC,EAAWT,SAC/BZ,EAAEC,OAAOJ,MAAQ,G,EAGhByB,GAAc,EAAdC,GAAc,EAAdC,OAAcC,E,IAAnB,QAAKC,EAAAC,EAAkBlC,EAAWmC,OAAAC,cAA7BP,GAAAI,EAAAC,EAAcG,QAAAC,MAAdT,GAAc,EAAiB,CAA/B,IAAIU,EAAJN,EAAc7B,MACjBmC,EAAWxC,iBAAiB,UAAWyB,GACvCe,EAAWxC,iBAAiB,QAASiB,GAAc,GACnDuB,EAAWxC,iBAAiB,QAASO,GAAc,E,WAHhDwB,GAAc,EAAdC,EAAcS,C,aAAdX,GAAc,MAAdK,EAAcO,QAAdP,EAAcO,Q,YAAdX,E,MAAAC,C","sources":["src/js/phone-mask.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  let phoneInputs = document.querySelectorAll('input[data-tel-input]');\n\n  let getInputNumbersValue = function (input) {\n    // Return stripped input value — just numbers\n    return input.value.replace(/\\D/g, '');\n  };\n\n  let onPhonePaste = function (e) {\n    let input = e.target,\n      inputNumbersValue = getInputNumbersValue(input);\n    let pasted = e.clipboardData || window.clipboardData;\n    if (pasted) {\n      let pastedText = pasted.getData('Text');\n      if (/\\D/g.test(pastedText)) {\n        // Attempt to paste non-numeric symbol — remove all non-numeric symbols,\n        // formatting will be in onPhoneInput handler\n        input.value = inputNumbersValue;\n        return;\n      }\n    }\n  };\n\n  let onPhoneInput = function (e) {\n    let input = e.target,\n      inputNumbersValue = getInputNumbersValue(input),\n      selectionStart = input.selectionStart,\n      formattedInputValue = '';\n\n    if (!inputNumbersValue) {\n      return (input.value = '');\n    }\n\n    if (input.value.length != selectionStart) {\n      // Editing in the middle of input, not last symbol\n      if (e.data && /\\D/g.test(e.data)) {\n        // Attempt to input non-numeric symbol\n        input.value = inputNumbersValue;\n      }\n      return;\n    }\n\n    if (['3', '0'].includes(inputNumbersValue[0]) > -1) {\n      // Ukrainian phone number\n      if (inputNumbersValue[0] == '0')\n        inputNumbersValue = '3' + inputNumbersValue;\n      let firstSymbols = inputNumbersValue[0] == '0' ? '0' : '+38';\n      formattedInputValue = input.value = firstSymbols + ' ';\n      if (inputNumbersValue.length > 2) {\n        formattedInputValue += '(' + inputNumbersValue.substring(2, 5);\n      }\n      if (inputNumbersValue.length >= 6) {\n        formattedInputValue += ') ' + inputNumbersValue.substring(5, 8);\n      }\n      if (inputNumbersValue.length >= 9) {\n        formattedInputValue += '-' + inputNumbersValue.substring(8, 10);\n      }\n      if (inputNumbersValue.length >= 11) {\n        formattedInputValue += '-' + inputNumbersValue.substring(10, 12);\n      }\n    } else {\n      // Not Ukrainian phone number\n      formattedInputValue = '+' + inputNumbersValue.substring(0, 16);\n    }\n    input.value = formattedInputValue;\n  };\n  let onPhoneKeyDown = function (e) {\n    console.log(e.keyCode, e.target.value);\n    // Clear input after remove last symbol\n    let inputValue = e.target.value.replace(/\\D/g, '');\n    if (e.keyCode == 8 && inputValue.length == 2) {\n      e.target.value = '';\n    }\n  };\n  for (let phoneInput of phoneInputs) {\n    phoneInput.addEventListener('keydown', onPhoneKeyDown);\n    phoneInput.addEventListener('input', onPhoneInput, false);\n    phoneInput.addEventListener('paste', onPhonePaste, false);\n  }\n});\n"],"names":["document","addEventListener","phoneInputs","querySelectorAll","getInputNumbersValue","input","value","replace","onPhonePaste","e","target","inputNumbersValue","pasted","clipboardData","window","pastedText","getData","test","onPhoneInput","selectionStart","formattedInputValue","length","includes","firstSymbols","substring","data","onPhoneKeyDown","console","log","keyCode","inputValue","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","phoneInput","err","return"],"version":3,"file":"index.7d26e614.js.map"}